doctype html
html xmlns="http://www.w3.org/1999/xhtml"
  head
    meta content="width=device-width" name="viewport" /
    meta content=("text/html; charset=UTF-8") http-equiv="Content-Type" /
    link href="https://fonts.googleapis.com/css?family=Karla:400,700" media="screen" rel="stylesheet" /
    link href="https://fonts.googleapis.com/css?family=Roboto+Mono" media="screen" rel="stylesheet" /
    title= "Isostamp Results: #{@tagfinder_execution.data_file.upload_file_name}"
  body.email itemscope="" itemtype="http://schema.org/EmailMessage": table.body-wrap: tr
    td
    td.container: .content
      table.main cellpadding="0" cellspacing="0": tr: td.content-wrap.aligncenter: table cellpadding='0' cellspacing='0'
        tr: td.content-block
          h1.aligncenter= @tagfinder_execution.data_file.upload_file_name
          p.aligncenter=  @link

        tr: td.content-block.alignleft

          == render 'tagfinder_executions/metadata', tagfinder_execution: @tagfinder_execution

          br

          == render 'tagfinder_executions/inputs', tagfinder_execution: @tagfinder_execution

          - unless @tagfinder_execution.stdouts.nil?

            br

            == render 'tagfinder_executions/results', tagfinder_execution: @tagfinder_execution

      .footer: table: tr: td.content-block.aligncenter
        | Bertozzi Lab , Stanford Department of Chemistry 
        br
        | 380 Roth Way MC: 5080 , Stanford CA 94305-4401 

  scss:
    @import 'bootstrap';

    // variables.scss
      $lightest-grey:    #f5f5f5;
      $light-grey:       #ccc;
      $grey:             #aaa;

      $sans-serif-font:  'Karla', 'Clear Sans', 'Helvetica', sans-serif;
      $monospace-font:   'Roboto Mono', monospace;

    // read_more_toggle.scss
      .read-more-state {
        display: none;
      }

      .read-more-target {
        opacity: 0;
        max-height: 0;
        font-size: 0;
      }

      .read-more-state:not(:checked) ~ .read-more-wrap .read-more-target {
        transition: opacity 1s ease;
      }

      .read-more-state:checked ~ .read-more-wrap .read-more-target {
        opacity: 1;
        font-size: inherit;
        transition: opacity 1s ease;
        max-height: 999em;
      }

      .read-more-state:checked ~ pre .read-more-trigger a:after {
        content: '[Show less]';
      }

      .read-more-state ~ pre .read-more-trigger a:after {
        cursor:   pointer;
        content:  '[Show more]';
        float:    right;
      }

      .read-more-trigger {
        padding:       0 .5em;
        color:         #666;
        font-size:     .9em;
        float:         right;
      }

    // results_email.scss
      pre {
        font-family: $monospace-font;
        background:  #f6f6f6;
        border:      1px solid #e4e4e4 !important;
        text-align:  left;
        padding:     15px 20px;
        white-space: pre-wrap;

        &.errors {
          background: #f2dede;
          border:     1px solid #ebccd1 !important;
          color:      #a94442;
        }
      }

      .email {
        * {
          margin: 0;
          font-family: $sans-serif-font;
          box-sizing: border-box;
          font-size: 14px;
        }

        img {
          max-width: 100%;
        }

        body {
          -webkit-font-smoothing: antialiased;
          -webkit-text-size-adjust: none;
          width: 100% !important;
          height: 100%;
          line-height: 1.6em;
        }

        table td {
          vertical-align: top;
        }

        body {
          background-color: #f6f6f6;
        }

        .body-wrap {
          background-color: #f6f6f6;
          width: 100%;
        }

        .container {
          display: block !important;
          max-width: 600px !important;
          margin: 0 auto !important;
          clear: both !important;
        }

        .content {
          max-width: 600px;
          margin: 0 auto;
          display: block;
          padding: 20px;
        }


        .main {
          background-color: #fff;
          border: 1px solid #e9e9e9;
          border-radius: 3px;
        }

        .content-wrap {
          padding: 20px;
        }

        .content-block {
          padding: 15px 20px;
        }

        .header {
          width: 100%;
          margin-bottom: 20px;
        }

        .footer {
          width: 100%;
          clear: both;
          color: #999;
          padding: 20px;
        }
        .footer p, .footer a, .footer td {
          color: #999;
          font-size: 12px;
        }


        h1, h2, h3 {
          font-family: $sans-serif-font;
          color: #000;
          margin: 40px 0 0;
          line-height: 1.2em;
        }

        h1 {
          font-size: 32px;
        }

        h2 {
          font-size: 24px;
        }

        h3 {
          font-size: 18px;
        }

        h4 {
          font-size: 14px;
          font-weight: 600;
        }

        p, ul, ol {
          margin-bottom: 10px;
          font-weight: normal;
        }
        p li, ul li, ol li {
          margin-left: 5px;
          list-style-position: inside;
        }


        a {
          color: #348eda;
          text-decoration: underline;
        }

        .btn-primary {
          text-decoration: none;
          color: #FFF;
          background-color: #348eda;
          border: solid #348eda;
          border-width: 10px 20px;
          line-height: 2em;
          font-weight: bold;
          text-align: center;
          cursor: pointer;
          display: inline-block;
          border-radius: 5px;
          text-transform: capitalize;
        }


        .last {
          margin-bottom: 0;
        }

        .first {
          margin-top: 0;
        }

        .aligncenter {
          text-align: center;
        }

        .alignright {
          text-align: right;
        }

        .alignleft {
          text-align: left;
        }

        .clear {
          clear: both;
        }


        .alert {
          font-size: 16px;
          color: #fff;
          font-weight: 500;
          padding: 20px;
          text-align: center;
          border-radius: 3px 3px 0 0;
        }
        .alert a {
          color: #fff;
          text-decoration: none;
          font-weight: 500;
          font-size: 16px;
        }
        .alert.alert-warning {
          background-color: #FF9F00;
        }
        .alert.alert-bad {
          background-color: #D0021B;
        }
        .alert.alert-good {
          background-color: #68B90F;
        }


        .invoice {
          margin: 40px auto;
          text-align: left;
          width: 80%;
        }
        .invoice td {
          padding: 5px 0;
        }
        .invoice .invoice-items {
          width: 100%;
        }
        .invoice .invoice-items td {
          border-top: #eee 1px solid;
        }
        .invoice .invoice-items .total td {
          border-top: 2px solid #333;
          border-bottom: 2px solid #333;
          font-weight: 700;
        }


        @media only screen and (max-width: 640px) {
          body {
            padding: 0 !important;
          }

          h1, h2, h3, h4 {
            font-weight: bold !important;
            margin: 20px 0 5px !important;
          }

          h1 {
            font-size: 22px !important;
          }

          h2 {
            font-size: 18px !important;
          }

          h3 {
            font-size: 16px !important;
          }

          .container {
            padding: 0 !important;
            width: 100% !important;
          }

          .content {
            padding: 0 !important;
          }

          .content-wrap {
            padding: 10px !important;
          }

          .invoice {
            width: 100% !important;
          }
        }
      }

    // tagfinder_executions.scss
      table {
        &.padded td {
          padding: 3px;
        }

        &.valign-top tr td {
          vertical-align: top;
        }

        td.labeled {
          font-weight: bolder;
          text-align: right;
          padding-right: 20px !important;
        }

        &.full-width {
          width: 100%;
        }

        &.results {
          > tbody > tr > td {
            padding: 8px 3px;
          }
        }
      }

      .metadata {
        background-color: $lightest-grey;
        padding:          15px 0;
      }

      .label.label-large {
        font-size: 0.9em;
      }

      h1.tagfinder-execution-info {
        margin-top:     10px;
        margin-bottom:  30px;
      }

      pre, pre * {
        font-family: $monospace-font;
      }